<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>InteractiBA</title>
    <style type="text/css">
      html, body { height: 100%; margin: 0; padding: 0; }
      #right-panel { height: 100%; }

       #right-panel {
        font-family: 'Roboto','sans-serif';
        line-height: 30px;
        padding-left: 10px;
      }

      #right-panel select, #right-panel input {
        font-size: 15px;
      }

      #right-panel select {
        width: 100%;
      }

      #right-panel i {
        font-size: 12px;
      }

    </style>
</head>
<body>
    <div id="right-panel"></div>
    <script>
      function initMap() {
        var directionsDisplay = new google.maps.DirectionsRenderer;
        var directionsService = new google.maps.DirectionsService;
        directionsDisplay.setPanel(document.getElementById('right-panel'));
        calculateAndDisplayRoute(directionsService, directionsDisplay, <%- JSON.stringify(address1) %> , <%- JSON.stringify(address2) %>);
  }



  function calculateAndDisplayRoute(directionsService, directionsDisplay, dataAddress, dataAddress2) {
      var selectedMode = "TRANSIT"; //Se podria cambiar el modo para tambien acepte walk, vehicle , etc..
      directionsService.route({
           origin: dataAddress, 
           destination: dataAddress2, 
           'language': 'es',
          travelMode: google.maps.TravelMode[selectedMode]
        }, function(response, status) {
          if (status == google.maps.DirectionsStatus.OK) {
            directionsDisplay.setDirections(response);
          } else {
            window.alert('Directions request failed due to ' + status);
          }
      });
    }

    </script>
    <script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDiKogP-EOPQU0oec89p5EIZwIJFi4R6Lc&callback=initMap">
    </script>
  </body>
</html>